# üèüÔ∏è Multithreaded Sports Hall Admission System
*(–°–∏—Å—Ç–µ–º–∞ –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª –Ω–∞ –¥–æ—Å—Ç—ä–øa –≤ —Å–ø–æ—Ä—Ç–Ω–∞ –∑–∞–ª–∞ —Å –º–Ω–æ–≥–æ–Ω–∏—à–∫–æ–≤–æ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ)*

<p align="justify">
  –ü—Ä–æ–µ–∫—Ç—ä—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ <strong>Java —Å–∏–º—É–ª–∞—Ü–∏—è –Ω–∞ –ø—Ä–æ–ø—É—Å–∫–≤–∞—Ç–µ–ª–µ–Ω —Ä–µ–∂–∏–º</strong> –≤ —Å–ø–æ—Ä—Ç–Ω–∞ –∑–∞–ª–∞. –†–µ–∞–ª–∏–∑–∏—Ä–∞–Ω –µ –∫–∞—Ç–æ –∫–æ–Ω–∑–æ–ª–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ–µ—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞ –º–Ω–æ–≥–æ–Ω–∏—à–∫–æ–≤–æ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ, –∑–∞ –¥–∞ —Å–∏–º—É–ª–∏—Ä–∞ –µ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—Ç–∞ —Ä–∞–±–æ—Ç–∞ –Ω–∞ –Ω—è–∫–æ–ª–∫–æ –≤—Ö–æ–¥–∞ –∏ –Ω–∞—Å—Ç–∞–Ω—è–≤–∞–Ω–µ—Ç–æ –Ω–∞ –≥—Ä—É–ø–∏ –∑—Ä–∏—Ç–µ–ª–∏ –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ.
</p>

---

## üíª –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏

<p align="justify">
–ü—Ä–æ–µ–∫—Ç—ä—Ç –µ —Ä–∞–∑—Ä–∞–±–æ—Ç–µ–Ω –Ω–∞ <strong>Java 21</strong> –∏ –æ–±–µ–¥–∏–Ω—è–≤–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ –∫–ª—é—á–æ–≤–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏:
</p>

* **–ú–Ω–æ–≥–æ–Ω–∏—à–∫–æ–≤–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –°–∏—Å—Ç–µ–º–∞—Ç–∞ –∏–∑–ø–æ–ª–∑–≤–∞ `java.util.concurrent` –∏ <code>ExecutorService</code> —Å —Ñ–∏–∫—Å–∏—Ä–∞–Ω thread pool –æ—Ç **4 –Ω–∏—à–∫–∏**, –∫–æ–∏—Ç–æ —Å–∏–º—É–ª–∏—Ä–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç–∞ –Ω–∞ 4 —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥–∞. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ç–∞ —Å–ª–µ–¥–≤–∞  **Producer-Consumer** design pattern-a –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞—Ç–∞ –Ω–∞ –æ–ø–∞—à–∫–∞—Ç–∞ –∏ **Singleton** –∑–∞ –≥–ª–æ–±–∞–ª–Ω–∞—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è. 
* **Thread Safety & –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** –ó–∞ –¥–∞ —Å–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç—è—Ç **Race Conditions** –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∏—è –¥–æ—Å—Ç—ä–ø, –≤—Å–∏—á–∫–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç–∞–Ω—è–≤–∞–Ω–µ —Å–∞ –∑–∞—â–∏—Ç–µ–Ω–∏ —á—Ä–µ–∑ `synchronized` –º–µ—Ç–æ–¥–∏.
* **–õ–æ–≥–∏–∫–∞ –∏ –î–∞–Ω–Ω–∏:** –ö–∞–ø–∞—Ü–∏—Ç–µ—Ç—ä—Ç –Ω–∞ —Ç—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (**VIP**, **–°–µ–∫—Ç–æ—Ä –ê** –∏ **–°–µ–∫—Ç–æ—Ä –ë**) —Å–µ —Å–ª–µ–¥–∏ –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ —á—Ä–µ–∑ `HashMap`. –°–∏—Å—Ç–µ–º–∞—Ç–∞ –ø—Ä–∏–ª–∞–≥–∞ –∏–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ç–Ω–∞ –ª–æ–≥–∏–∫–∞ –∑–∞ –Ω–∞—Å—Ç–∞–Ω—è–≤–∞–Ω–µ ‚Äì –∞–∫–æ –≥–æ–ª—è–º–∞ –≥—Ä—É–ø–∞ –Ω–µ —Å–µ –ø–æ–±–∏—Ä–∞, —Ç—è –±–∏–≤–∞ –≤—ä—Ä–Ω–∞—Ç–∞, –Ω–æ –ø—Ä–æ—Ü–µ—Å—ä—Ç –ø—Ä–æ–¥—ä–ª–∂–∞–≤–∞ –∑–∞ –ø–æ-–º–∞–ª–∫–∏ –≥—Ä—É–ø–∏, –∫–æ–∏—Ç–æ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∑–∞–ø—ä–ª–≤–∞—Ç –æ—Å—Ç–∞–≤–∞—â–∏—Ç–µ —Å–≤–æ–±–æ–¥–Ω–∏ –º–µ—Å—Ç–∞.


---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞

* `nbu.config` ‚öôÔ∏è
    * **ExecutorServiceConfig:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ Thread Pool-–∞ (4-—Ç–µ –≤—Ö–æ–¥–∞).
* `nbu.model` üì¶
    * **SportsHall:** Shared Resource. –¢—É–∫ —Å–µ —Å–ª—É—á–≤–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è—Ç–∞.
    * **SpectatorGroup:** Plain Java –∫–ª–∞—Å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞—â –≥—Ä—É–ø–∞ –∑—Ä–∏—Ç–µ–ª–∏ (ticket holders).
* `nbu.tasks` üßµ
    * **AdmissionTask:** –ó–∞–¥–∞—á–∞—Ç–∞ (Runnable), –∫–æ—è—Ç–æ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ –æ—Ç –Ω–∏—à–∫–∏—Ç–µ. –°–∏–º—É–ª–∏—Ä–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞—Ç–∞ –Ω–∞ –±–∏–ª–µ—Ç–∏ –∏ –æ–ø–∏—Ç –∑–∞ –≤—Ö–æ–¥.
* `nbu.Main` üé¨
    * –û—Å–Ω–æ–≤–µ–Ω –∫–ª–∞—Å, –∫–æ–π—Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä–∞ —Ç—Ä–∞—Ñ–∏–∫ –æ—Ç –∑—Ä–∏—Ç–µ–ª–∏ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞ —Å–∏–º—É–ª–∞—Ü–∏—è—Ç–∞.

---

## üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è—Ç–∞?

–ù–∞–π-–≥–æ–ª—è–º–æ—Ç–æ –ø—Ä–µ–¥–∏–∑–≤–∏–∫–∞—Ç–µ–ª—Å—Ç–≤–æ –≤ –ø–æ–¥–æ–±–Ω–∏ —Å–∏—Å—Ç–µ–º–∏ –µ –∫–æ–≥–∞—Ç–æ –¥–≤–∞ –≤—Ö–æ–¥–∞ –µ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å–µ –æ–ø–∏—Ç–∞—Ç –¥–∞ –ø—Ä–æ–¥–∞–¥–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–æ—Ç–æ –º—è—Å—Ç–æ –Ω–∞ –¥–≤–∞–º–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ —á–æ–≤–µ–∫–∞.

–¢–æ–∑–∏ –ø—Ä–æ–µ–∫—Ç —Ä–µ—à–∞–≤–∞ –ø—Ä–æ–±–ª–µ–º–∞ —á—Ä–µ–∑ **–ú–æ–Ω–∏—Ç–æ—Ä (Monitor Lock)** –≤ –∫–ª–∞—Å–∞ `SportsHall`.

```java
public synchronized void occupySeats(SpectatorGroup group) {
    // 1. –ù–∏—à–∫–∞—Ç–∞ –∑–∞–∫–ª—é—á–≤–∞ –∑–∞–ª–∞—Ç–∞ –∑–∞ —Å–µ–±–µ —Å–∏
    // 2. –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ CurrentOccupied + NewPeople <= MaxCapacity
    // 3. –ê–∫–æ –ò–ú–ê –º—è—Å—Ç–æ -> –Ω–∞—Å—Ç–∞–Ω—è–≤–∞ –≥–∏ –∏ –æ–±–Ω–æ–≤—è–≤–∞ –±—Ä–æ—è—á–∞
    // 4. –ê–∫–æ –ù–Ø–ú–ê –º—è—Å—Ç–æ -> –≤—Ä—ä—â–∞ –≥–∏
    // 5. "–û—Ç–∫–ª—é—á–≤–∞" –∑–∞–ª–∞—Ç–∞ –∑–∞ —Å–ª–µ–¥–≤–∞—â–∞—Ç–∞ –Ω–∏—à–∫–∞
}
```

---

## üñ®Ô∏è –ü—Ä–∏–º–µ—Ä–µ–Ω output

<p align="justify">
–°–∏–º—É–ª–∞—Ü–∏—è—Ç–∞ –ø–æ–∫–∞–∑–≤–∞ –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ –∫–∞–∫ 4-—Ç–µ –≤—Ö–æ–¥–∞ –æ–±—Ä–∞–±–æ—Ç–≤–∞—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ –ø–æ—Å—Ç—ä–ø–≤–∞—â–∏—Ç–µ –≥—Ä—É–ø–∏:
</p>

```java
--- –ó–ê–ü–û–ß–í–ê –ù–ê–°–¢–ê–ù–Ø–í–ê–ù–ï–¢–û ---

–í—Ö–æ–¥ 1 –æ–±—Ä–∞–±–æ—Ç–≤–∞ –ì—Ä—É–ø–∞ #1 (–°–µ–∫—Ç–æ—Ä –ë, 3 –¥—É—à–∏)...
–í—Ö–æ–¥ 4 –æ–±—Ä–∞–±–æ—Ç–≤–∞ –ì—Ä—É–ø–∞ #4 (–°–µ–∫—Ç–æ—Ä –ê, 5 –¥—É—à–∏)...
–í—Ö–æ–¥ 3 –æ–±—Ä–∞–±–æ—Ç–≤–∞ –ì—Ä—É–ø–∞ #3 (–°–µ–∫—Ç–æ—Ä –ë, 7 –¥—É—à–∏)...
–í—Ö–æ–¥ 2 –æ–±—Ä–∞–±–æ—Ç–≤–∞ –ì—Ä—É–ø–∞ #2 (VIP, 10 –¥—É—à–∏)...
[OK] –í—Ö–æ–¥ 3 –Ω–∞—Å—Ç–∞–Ω–∏ –ì—Ä—É–ø–∞ #3 (–°–µ–∫—Ç–æ—Ä –ë, 7 –¥—É—à–∏). (–ó–∞–µ—Ç–∏: 7/175)
[OK] –í—Ö–æ–¥ 1 –Ω–∞—Å—Ç–∞–Ω–∏ –ì—Ä—É–ø–∞ #1 (–°–µ–∫—Ç–æ—Ä –ë, 3 –¥—É—à–∏). (–ó–∞–µ—Ç–∏: 10/175)
[OK] –í—Ö–æ–¥ 2 –Ω–∞—Å—Ç–∞–Ω–∏ –ì—Ä—É–ø–∞ #2 (VIP, 10 –¥—É—à–∏). (–ó–∞–µ—Ç–∏: 10/50)
...
[OK] –í—Ö–æ–¥ 1 –Ω–∞—Å—Ç–∞–Ω–∏ –ì—Ä—É–ø–∞ #23 (VIP, 7 –¥—É—à–∏). (–ó–∞–µ—Ç–∏: 35/50)
[OK] –í—Ö–æ–¥ 2 –Ω–∞—Å—Ç–∞–Ω–∏ –ì—Ä—É–ø–∞ #22 (VIP, 9 –¥—É—à–∏). (–ó–∞–µ—Ç–∏: 44/50)
–í—Ö–æ–¥ 1 –æ–±—Ä–∞–±–æ—Ç–≤–∞ –ì—Ä—É–ø–∞ #26 (VIP, 11 –¥—É—à–∏)...
[NO] –í—Ö–æ–¥ 4 –ù–ï –ø—É—Å–Ω–∞ –ì—Ä—É–ø–∞ #24 (VIP, 10 –¥—É—à–∏). –ú–µ—Å—Ç–∞: 6, –¢—ä—Ä—Å–µ–Ω–∏: 10
–í—Ö–æ–¥ 2 –æ–±—Ä–∞–±–æ—Ç–≤–∞ –ì—Ä—É–ø–∞ #27 (–°–µ–∫—Ç–æ—Ä –ê, 5 –¥—É—à–∏)...
[NO] –í—Ö–æ–¥ 1 –ù–ï –ø—É—Å–Ω–∞ –ì—Ä—É–ø–∞ #26 (VIP, 11 –¥—É—à–∏). –ú–µ—Å—Ç–∞: 6, –¢—ä—Ä—Å–µ–Ω–∏: 11
[OK] –í—Ö–æ–¥ 2 –Ω–∞—Å—Ç–∞–Ω–∏ –ì—Ä—É–ø–∞ #27 (–°–µ–∫—Ç–æ—Ä –ê, 5 –¥—É—à–∏). (–ó–∞–µ—Ç–∏: 74/125)
...
[OK] –í—Ö–æ–¥ 1 –Ω–∞—Å—Ç–∞–Ω–∏ –ì—Ä—É–ø–∞ #30 (–°–µ–∫—Ç–æ—Ä –ê, 1 –¥—É—à–∏). (–ó–∞–µ—Ç–∏: 78/125)

=== –ö–†–ê–ô–ù–ê –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ù–ê –ó–ê–õ–ê–¢–ê ===
- –°–µ–∫—Ç–æ—Ä –ê: 78 –æ—Ç 125 –º–µ—Å—Ç–∞ (62.4%)
- –°–µ–∫—Ç–æ—Ä –ë: 49 –æ—Ç 175 –º–µ—Å—Ç–∞ (28.0%)
- VIP: 44 –æ—Ç 50 –º–µ—Å—Ç–∞ (88.0%)
